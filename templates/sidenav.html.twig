{% extends 'base.html.twig' %}

{% block body %}
	<div class="fd_main">
		<div id="menuButton" class="circle" onclick="toggleMenu(this)">
	            <div class="bar1"></div>
	            <div class="bar2"></div>
	            <div class="bar3"></div>
	    </div>
		<div class="fd_sidenav" id="sidenav_menu">
			<div class="fd_sidenav_logo">
				<div><img onclick="furryden()" src=" {{ asset('images/maplogo.png') }}" width="200" height="77"/></div>
			</div>
			<div class="fd_sidenav-elements">
				<div class="fd_sidenav_options">
					{% if app.request.get('_route') == 'map' %}
						{% if marked %}
							<p data-toggle="modal" data-target="#editModal">Cambia posizione</p>
							<p data-toggle="modal" data-target="#deleteModal">Elimina posizione</p>
						{% else %}
							<p data-toggle="modal" data-target="#addModal">Fissa posizione</p>
						{% endif %}
						<p data-toggle="modal" data-target="#searchModal">Cerca localit√†</p>
					{% endif %}
					<p onclick="map()">Mappa</p>
					<p onclick="profile()">Profilo</p>
					{% if is_granted("ROLE_ADMIN") %}
						<p onclick="userList()">Pannello admin</p>
						<p onclick="logs()">Logs</p>
					{% endif %}
					<p onclick="logout()" id="logout">Logout</p>
				</div>
			</div>
		</div>
		<div id="fd_body" class="blue-bg">
			{% block fd_body %}
			{% endblock %}
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script>
        var isOpen=false;
        function toggleMenu(x) {
            if(isOpen) {
                isOpen = false;
                document.getElementById("sidenav_menu").style.width="0px";
            } else {
                isOpen = true;
                document.getElementById("sidenav_menu").style.width="280px";
            }
            x.classList.toggle("change");
        }
		function furryden() {
			$(".loader").fadeIn();
			document.location.href="https://furryden.it";
		}

		function userList() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('users_list') }}";
        }

        function logout() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('logout') }}";
        }

        function map() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('map') }}";
        }

        function profile() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('profile') }}";
        }

        function logs() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('logs') }}";
        }

        function map() {
            $(".loader").fadeIn();
            document.location.href = "{{ path('map') }}";
        }		
	</script>
{% endblock %}